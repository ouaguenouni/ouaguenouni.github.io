<div id="chart"></div>
<script>
    const data = [
        // First line (olive/yellow-green)
        { x: 10, y: 69, type: 'Client', group: 'line1' },
        { x: 32, y: 68, type: 'Client', group: 'line1' },

        // Second line (orange)
        { x: 14, y: 47, type: 'Client', group: 'line2' },
        { x: 32, y: 30, type: 'Depot', group: 'line2' },
        { x: 50, y: 50, type: 'Depot', group: 'line2' },

        // Third line (blue)
        { x: 35, y: 100, type: 'Client', group: 'line3' },
        { x: 42, y: 92, type: 'Client', group: 'line3' },

        // Fourth line (purple)
        { x: 56, y: 47, type: 'Client', group: 'line4' },
        { x: 76, y: 33, type: 'Client', group: 'line4' },

        // Fifth line (teal)
        { x: 67, y: 75, type: 'Client', group: 'line5' },
        { x: 76, y: 81, type: 'Client', group: 'line5' }
    ];

    const margin = { top: 20, right: 120, bottom: 40, left: 50 };
    const width = 600 - margin.left - margin.right;
    const height = 450 - margin.top - margin.bottom;

    const svg = d3.select("#chart")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform", `translate(${margin.left},${margin.top})`);

    const xScale = d3.scaleLinear()
        .domain([10, 80])
        .range([0, width]);

    const yScale = d3.scaleLinear()
        .domain([30, 100])
        .range([height, 0]);

    // Add grid lines
    svg.append("g")
        .attr("class", "grid")
        .attr("opacity", 0.1)
        .call(d3.axisLeft(yScale)
            .tickSize(-width)
            .tickFormat(""));

    svg.append("g")
        .attr("class", "grid")
        .attr("opacity", 0.1)
        .attr("transform", `translate(0,${height})`)
        .call(d3.axisBottom(xScale)
            .tickSize(-height)
            .tickFormat(""));

    // Add X axis
    svg.append("g")
        .attr("transform", `translate(0,${height})`)
        .call(d3.axisBottom(xScale));

    // Add Y axis
    svg.append("g")
        .call(d3.axisLeft(yScale));

    // Group data by line
    const lineGroups = d3.group(data, d => d.group);

    // Draw lines
    const lineColors = {
        'line1': '#9ca348',
        'line2': '#d87a3f',
        'line3': '#5b7bb5',
        'line4': '#8b7bb5',
        'line5': '#4a9fb5'
    };

    lineGroups.forEach((points, group) => {
        const line = d3.line()
            .x(d => xScale(d.x))
            .y(d => yScale(d.y));

        svg.append("path")
            .datum(points)
            .attr("fill", "none")
            .attr("stroke", lineColors[group])
            .attr("stroke-width", 1.5)
            .attr("d", line);
    });

    // Add points
    const colorScale = d3.scaleOrdinal()
        .domain(['Client', 'Depot'])
        .range(['#4a9fb5', '#d87a3f']);

    svg.selectAll("circle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", d => xScale(d.x))
        .attr("cy", d => yScale(d.y))
        .attr("r", 5)
        .attr("fill", d => colorScale(d.type))
        .attr("stroke", "white")
        .attr("stroke-width", 1.5);

    // Add legend
    const legend = svg.append("g")
        .attr("transform", `translate(${width + 20}, 20)`);

    legend.append("rect")
        .attr("class", "legend-box")
        .attr("x", -10)
        .attr("y", -10)
        .attr("width", 80)
        .attr("height", 60)
        .attr("rx", 4);

    const legendItems = [
        { label: 'Client', color: '#4a9fb5' },
        { label: 'Depot', color: '#d87a3f' }
    ];

    legendItems.forEach((item, i) => {
        const legendRow = legend.append("g")
            .attr("transform", `translate(0, ${i * 25})`);

        legendRow.append("circle")
            .attr("r", 5)
            .attr("fill", item.color)
            .attr("stroke", "white")
            .attr("stroke-width", 1.5);

        legendRow.append("text")
            .attr("x", 15)
            .attr("y", 5)
            .style("font-size", "12px")
            .text(item.label);
    });
</script>